===============================================================================
    Read me file for the RH850 T01 Data Flash access library (FDL) 
    and EEPROM emulation library (EEL)
===============================================================================


========
Contents
========

  1. Software Corrections and Updates
  2. General Information
  3. File Naming
  4. Supported Devices
  5. Operating Precautions
  6. Support


===================================
1. Software Corrections and Updates
===================================

Installer Changes
-----------------

    V2.02
    ------
    Update to 
        FDL V2.11 & EEL V2.01

    V2.01
    ------
    Contains FDL V2.00 & EEL V2.00
    - Added F1L support (incl. GHS, CC-RH support)
    - Sample application framework update 
        - Batch & Make files updated
        - eelapp_main.c and fdl_user.c updated    
        - path names extended

    V2.00
    ------
    Contains FDL V2.00 & EEL V2.00
    - Note: please read the operation precautions regarding D1x limitations 
            carefully (chapter 5)


Library Changes
-----------------
    
    EEL
    ---
        V2.01
        -----
        Fixes:
          - Fixed issue on EEL startup processing.
            - If the count of IDs in the ID-L table is 1 + multiple of 40 (e.g.
              1, 41, 81, 121...), R_EEL_Handler() function does not return 
              from a function call during EEL startup processing.
          - Fixed issue on Cleanup command processing.
            Intended and documented behavior is that execution of the Cleanup 
            command is prevented on completely empty EEL pool. This means 
            that the Cleanup command should be accepted if at least one data 
            entry of any ID in the ID-L table is written to the EEL pool.
            Differing from that, the Cleanup command will not be accepted and
            the request structure will return the status R_EEL_ACCESS_LOCKED
            under certain conditions.
            - Background information:
              The number of entries in the ID-L table is stored in the eel 
              descriptor variable IDLTabIdxCnt_u16. On EEL startup, the table 
              entries are sequentially handled by the EEL in blocks of 40 
              entries with increasing table index count (0~39 -> 40~79 -> ...), 
              whereas the last handled block has less than 40 entries if number
              of entries is not a multiple of 40.
            - Condition for unintended Cleanup command execution rejection:
              Only data entries with IDs of the last handled block of IDs are 
              present in the EEL pool
              - Example (more than 1 handled blocks):
                IDLTabIdxCnt_u16 = 93 will result in three handled ID blocks, 
                two with 40 entries (index 0~39, 40~79) and the last one with 
                13 entries (index 80~92).
                The Cleanup command will be rejected in case no data instance
                with an ID from ID-L table index 0 <= index < 80 is written to
                EEL pool.
              - Example (1 handled block):
                IDLTabIdxCnt_u16 = 25 will result in 1 handled ID block with 25
                entries (index 0~24). The Cleanup command will be rejected as
                there is no block of IDs before the last (and only) one.

        V2.00
        ------
        Initial release (named V2.00 as requiring FDL V2.00)

    FDL
    ---
        V2.11
        ------
        Updates:
          - Added F1K device group support
            - Changed the FCU RAM transfer
            - Added Code flash buffer control
            - Changed the pre-fetch size.
            - Changed the Makefile of the sample program
              Added the "-Xcpu = G3K"  in the CC-RH compiler options.
              Common object file for the RH850 devices including the G3K is 
              generated by this option.
          - Added timeout supervision
            - Added timeout supervision for library internal loops checking 
              for HW status changes.
          - Added measure and pre-compile configuration option
            - Added measure and pre-compile configuration option to execute RAM
              code from fix memory location instead of from stack.
        Improvement:
          - Added measure to avoid unwanted error signalling
            - Added measure to avoid unwanted error signalling to an ECM during
              FACI initialization (Only devices with ECM).
          - Misc
            - Minor updates for the maintenance of the library
            - Added "-Xreserve_r2" to the compiler options of the CC-RH sample 
              program makefile.
              This was done in order to support RTOS [RI850V4] V2 for RH850.
            - Delete the unnecessary "-Xreserve_r5" of GHS compiler options 
              in the Makefile of the sample program.
            - Minor updates for the maintenance of the sample program
        Fixes:
          - Added SYNCP instruction before SYNCI.
            - Solved the issue of incorrect description of synchronization 
              procedure in "User's Manual:Hardware" of each product.
          - Modified the sample program in fdl_user.c for only CC-RH.
            - Modified the assembler instruction,because a failure is caused by
              a mistake of label reference"#".

        V2.00
        ------
        Major version update due to functionality update and moderate API 
        changes
        
        Updates:
          - Added cancel request for the Flash operations Erase, Write and 
            Blank Check
          - Support of devices equipped with multi-core architectures 
            (with cryptographic units). 
            - Resulting in slightly increased number of handler calls required
              for Flash operations
          - Added robustness checks
            - 32-bit alignment check for Read command destination buffer
          - Further minor internal improvements and updates
        Fixes:
          - Read operation now returns the 1st occurrence of a SED error 
            (former version returned last occurrence)
        API changes:
          - Added command to prepare the environment (Same as FCL)
            - Need to be called after R_FDL_Init in order to prepare the Flash
              programming hardware 
                - Formerly part of R_FDL_Init, but had to be separated
            - All pre-conditions of function and operation execution formerly
              referring to R_FDL_Init, now refer to R_FDL_CMD_PREPARE_ENV
            - Note: Added a pre-configuration option for backward compatibility
          - Authentication ID handling removed
            - Removed ID from descriptor structure
          - Suspend / Resume requests
            - Old: 
              - Resume was accepted all the time after suspend request
              - Multiple suspend or resume requests were accepted
            - New:
              - Resume request only in operation suspended state
              - Multiple suspend or resume requests are rejected
        
        Added D1x, F1H support        

        V1.03
        ------
        - Added CC-RH support
        - Added support for RH850/E1x and RH850/P1x
        - Authentication ID verification changed (removed result check on 
          R_EEL_Init)
        - Added accurate Data Flash boundary check
        - Misc minor updates (e.g. names and defines changed acc. to naming 
          rules, optimized some code, added comments and encapsulated test
          code)

        V1.02
        ------
        - Added new command: R_FDL_CMD_WRITE16B
        Note: Please consult User Manual chapter 4.5.3 - "R_FDL_CMD_WRITE16B" 
              for more information on how to use the command.

        V1.01
        ------
        - Renesas CC-RH support added
        Note: Please read chapter 5 - "Operating Precautions"
        
        V.1.00
        ------
        - initial release
        Note: Please read chapter 5 - "Operating Precautions"


======================
2. General Information
======================

The library is delivered in source code, prepared for the different development
environments.

Supported compilers are:

    - GHS 6.16, compiler version 201517 (201517)
    - Renesas CC-RH, compiler version 1.03.00

========================================
3. File Naming
========================================

The installer file has the name RENESAS_EEL_RH850_T{ab}E_V{x}.{yz}.exe
e.g. RENESAS_EEL_RH850_T01E_V1.00.exe

{x}  This version digit will be incremented in case of major changes e.g. API 
     changes
{yz} These version digits will be incremented in case of bug fixes and internal
     improvements or for adding support of new devices

====================
4. Supported Devices
====================

The following devices are covered by this package

    RH850/D1x
    -----------
    R7F701401~1412
    Tested device: R7F701412 WS2.0
    
    RH850/F1L
    -----------
    R7F701002~1054, 
    Tested device: R7F701035(=1007) WS2.1

Customers using other than above device groups:
Please contact Renesas regarding EEL support of your devices.
Refer to the "6. Support".

========================
5. Operating Precautions
========================

All devices and libraries
-------------------------
    - Due to EEL limitations, EEL may fail to increase data size of any ID
      when the ID-L table is updated.
      Workaround 1)
        Don't increase data size of any ID when the ID-L table is updated.
      Workaround 2)
        If user want to increase data size of any ID, please follow the 
        sequence  below:
       - Execute the command R_EEL_CMD_CLEANUP. This prepares as much as 
         possible free space in the EEL pool, allowing to write as much as 
         possible new data instances without executing the Refresh 
       - Update the ID-L table with increased data size
       - Re-start the EEL - Write the Data Set with the affected ID before the 
         EEL starts preparing new space. This could be done during the EEL 
         startup phase, when the driver access status is still 
         EEL_ACCESS_READ_WRITE.          
      Please keep in mind that the last step of the sequence requires enough 
      EEL space to write new data instances. Thus, a situation, leading to a 
      pool full condition (e.g. repeated Resets) must be avoided. It might not 
      be possible to ensure that under all conditions.

    - Due to device limitations on D1M2 V1.0, Data Flash Read will not return 
      the correct fail address in case of ECC errors
      
    - The libraries have been tested on not qualified hardware (working
      sample). Following that, it might be necessary to update the libraries
      later on in case of changing device features.

    - The EEL contains extended features which are only for Renesas internal 
      test purpose (eel_cfg.h: R_EEL_SUPPORT_EXT_FEATURES). Please do not 
      activate or use them!

    - please refer to the related documentation and device documentation.
          

==========
6. Support
==========

In case of any question please do not hesitate to contact:

        Technical Product Support

        Renesas Electronics Europe GmbH
        Arcadiastr. 10
        D-40472 Duesseldorf, Germany

        email: application_support.flash-eu@lm.renesas.com


===============================================================================
  End of read me file for the RH850 T01 Data Flash access library (FDL)
  and EEPROM emulation library (EEL)
===============================================================================
